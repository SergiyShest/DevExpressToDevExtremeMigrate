@model IEnumerable<Sasha.Lims.WebUI.Models.ReagentViewModel>
@using Sasha.Lims.WebUI.Infrastructure.Helpers
@using Sasha.Lims.WebUI.Localization
@using Sasha.Lims.DataAccess.Entities.Constants
@using Sasha.Lims.WebUI.Controllers

@{
	Layout = "~/Views/Shared/_SamplesLayout.cshtml";

	object objEditMode = ViewBag?.EditMode;
	ReagentJournalType editMode = objEditMode is ReagentJournalType ? (ReagentJournalType)objEditMode : objEditMode != null && Enum.TryParse(objEditMode.ToString(), out editMode) ? editMode : ReagentJournalType.Receiving;
	ViewData["Title"] =
		editMode == ReagentJournalType.Receiving ? Html.GetLocalizedText<LimsSiteMap>(nameof(LimsSiteMap.ReagentsReceiving)) :
		editMode == ReagentJournalType.Spending ? Html.GetLocalizedText<LimsSiteMap>(nameof(LimsSiteMap.ReagentsUsage)) :
		Html.GetLocalizedText<LimsSiteMap>(nameof(LimsSiteMap.Reagents));
}

@section Head {
	<link rel="stylesheet" type="text/css" href="@Url.Content("~/Content/Samples/SamplesGridView.css?v=" + AppVersionHelper.Version)" />
	<script type="text/javascript" src="@Url.Content("~/Scripts/ReagentsGridView.js?v=" + AppVersionHelper.Version)"></script>
	<script type="text/javascript" src="@Url.Content("~/Scripts/LocationDropdown.js?v=" + AppVersionHelper.Version)"></script>
}

@section PageToolbar {
	@Html.Partial("Toolbar", ViewData["Title"])
}

	<script type="text/javascript">
		window.editMode = @((int)editMode);
		window.getGridView = function() {
			return @ReagentsJournalController.GridViewName;
		}
	</script>
@using (Html.BeginForm())
{
	@Html.Action("GridViewPartial")
}